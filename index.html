<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>給与シミュレーター | 大阪版</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1>給与明細シュミレーション</h1>

        <main>
            <!-- 左カラム: 既存の入力・結果パネル -->
            <div class="left-column">
                <!-- サブカード: 年間予想額 -->
                <section class="card annual-card">
                    <h2>年間予想額</h2>
                    <div class="annual-grid">
                        <div class="annual-item">
                            <span class="annual-label">年収</span>
                            <span class="annual-value" id="annualIncome">420万</span>
                        </div>
                        <div class="annual-item">
                            <span class="annual-label">年間控除</span>
                            <span class="annual-value" id="annualDeduction">92万</span>
                        </div>
                        <div class="annual-item">
                            <span class="annual-label">年間手取り</span>
                            <span class="annual-value highlight" id="annualNetPay">328万</span>
                        </div>
                        <div class="annual-item furusato">
                            <span class="annual-label">🎁 ふるさと納税</span>
                            <span class="annual-value accent" id="furusatoAmount">36,500 <span style="font-size:0.9em">（寄付金上限額 : 38,500）</span></span>
                            <a href="https://furusato-nouzei.event.rakuten.co.jp/mypage/deduction-details/"
                                target="_blank" class="furusato-link">詳しい試算はこちら（楽天ふるさと納税など）</a>
                        </div>
                    </div>
                </section>

                <!-- メインカード: 月額給与明細 -->
                <section class="card main-card">
                    <h2>試算入力（月額給与）</h2>

                    <div class="input-section">
                        <div class="input-group">
                            <label for="totalPayment">支払総額</label>
                            <div class="input-wrapper">
                                <input type="number" id="totalPayment" value="290000" min="0" step="1000"
                                    placeholder="税引前">
                                <span class="unit">円</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="transportAllowance">通勤交通費</label>
                            <div class="input-wrapper">
                                <input type="number" id="transportAllowance" value="14000" min="0" step="1000"
                                    placeholder="税引前に含む">
                                <span class="unit">円</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="overtimeHours">残業時間</label>
                            <div class="input-wrapper">
                                <input type="text" id="overtimeHours" value="0:00" placeholder="月平均 (10:30)"
                                    pattern="[0-9]+:[0-5][0-9]">
                                <span class="unit">時間</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="overtimePeriod">残業時期</label>
                            <select id="overtimePeriod">
                                <option value="none">残業なし</option>
                                <option value="1">1月</option>
                                <option value="2">2月</option>
                                <option value="3">3月</option>
                                <option value="4">4月</option>
                                <option value="5">5月</option>
                                <option value="6">6月</option>
                                <option value="7">7月</option>
                                <option value="8">8月</option>
                                <option value="9">9月</option>
                                <option value="10">10月</option>
                                <option value="11">11月</option>
                                <option value="12">12月</option>
                                <option value="first-half">1〜6月（4-6月含む）</option>
                                <option value="second-half">7〜12月</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="bonusMonths">ボーナス</label>
                            <div class="input-wrapper">
                                <input type="number" id="bonusMonths" value="2.5" min="0" max="12" step="0.5"
                                    placeholder="月数">
                                <span class="unit">ヶ月</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="age">年齢</label>
                            <select id="age">
                                <option value="under40">40歳未満</option>
                                <option value="over40">40歳以上</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="additionalPayment">その他支給</label>
                            <div class="input-wrapper">
                                <input type="number" id="additionalPayment" value="0" min="0" step="100"
                                    placeholder="立替清算等">
                                <span class="unit">円</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="additionalDeduction">その他控除</label>
                            <div class="input-wrapper">
                                <input type="number" id="additionalDeduction" value="0" min="0" step="100"
                                    placeholder="給与天引き等">
                                <span class="unit">円</span>
                            </div>
                        </div>
                    </div>

                    <div class="divider"></div>

                    <div class="result-section">
                        <div class="result-row total-gross">
                            <span class="label">総支給額</span>
                            <span class="value" id="totalGross">290,000円</span>
                        </div>

                        <div class="deduction-header">控除内訳</div>
                        <div class="result-row deduction">
                            <span class="label">健康保険</span>
                            <span class="value negative" id="healthInsurance">-15,360円</span>
                        </div>
                        <div class="result-row deduction">
                            <span class="label">介護保険</span>
                            <span class="value negative" id="nursingInsurance">-0円</span>
                        </div>
                        <div class="result-row deduction">
                            <span class="label">厚生年金</span>
                            <span class="value negative" id="pension">-27,450円</span>
                        </div>
                        <div class="result-row deduction">
                            <span class="label">雇用保険</span>
                            <span class="value negative" id="employmentInsurance">-1,740円</span>
                        </div>
                        <div class="result-row deduction">
                            <span class="label">所得税</span>
                            <span class="value negative" id="incomeTax">-7,490円</span>
                        </div>
                        <div class="result-row deduction">
                            <span class="label">住民税</span>
                            <span class="value negative" id="residentTax">-13,000円</span>
                        </div>
                        <div class="result-row deduction" id="additionalDeductionRow" style="display: none;">
                            <span class="label">その他控除</span>
                            <span class="value negative" id="additionalDeductionDisplay">-0円</span>
                        </div>
                        <div class="result-row addition" id="additionalPaymentRow" style="display: none;">
                            <span class="label">その他支給</span>
                            <span class="value positive" id="additionalPaymentDisplay">+0円</span>
                        </div>

                        <div class="divider"></div>

                        <div class="result-row net-pay">
                            <span class="label">差引支給額</span>
                            <span class="value highlight" id="netPay">224,960円</span>
                        </div>
                    </div>
                </section>

                <!-- アドバイスカード -->
                <section class="card advice-card" id="adviceCard">
                    <div class="advice-icon">💡</div>
                    <p class="advice-text" id="adviceText">
                        4〜6月に残業が続くと、9月〜翌年8月の社会保険料が増加する可能性があります。
                    </p>
                </section>
            </div>

            <!-- 右カラム: グラフ (PCのみ表示、スマホではCSSでdisplay制御も可だが今回は2カラム指定のみで下落ち想定) -->
            <div class="right-column">
                <h2>月別収支シミュレーション</h2>
                <div class="chart-container">
                    <canvas id="monthlyChart"></canvas>
                </div>
            </div>
        </main>

        <footer>
            <p>※ 本シミュレーションは概算です。実際の金額は会社や個人の状況により異なります。</p>
        </footer>
    </div>

    <script src="chart.js"></script>
    <script src="app.js"></script>
</body>

</html>